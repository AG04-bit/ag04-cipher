<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>AG 04 - Chiffrement</title>
  <style>
    body {
      font-family: sans-serif;
      margin: 40px;
    }
    textarea {
      width: 100%;
      height: 150px;
      font-size: 16px;
      margin-bottom: 10px;
    }
    button {
      padding: 8px 16px;
      font-size: 16px;
      cursor: pointer;
    }
  </style>
</head>
<body>

  <h2>AG 04 - Chiffrement automatique</h2>

  <textarea id="input" placeholder="Tapez votre texte ici..."></textarea>
  <textarea id="output" placeholder="Texte chiffrÃ©..." readonly></textarea>
  <br>
  <button onclick="copyToClipboard()">ðŸ“‹ Copier</button>

  <script>
    const cipher = {
      'a': 'k', 'b': 'h', 'c': 'e', 'd': 'y', 'e': 'j', 'f': 't', 'g': 'u',
      'h': 'r', 'i': 'l', 'j': 'q', 'k': 'x', 'l': 'd', 'm': 'f', 'n': 'v',
      'o': 'p', 'p': 'm', 'q': 'n', 'r': 'c', 's': 'b', 't': 'o', 'u': 'a',
      'v': 'w', 'w': 's', 'x': 'z', 'y': 'g', 'z': 'i'
    };

    const input = document.getElementById("input");
    const output = document.getElementById("output");

    input.addEventListener("input", () => {
      const text = input.value;
      let encrypted = "";

      for (let char of text) {
        const lower = char.toLowerCase();
        if (cipher[lower]) {
          const c = cipher[lower];
          encrypted += (char === char.toUpperCase()) ? c.toUpperCase() : c;
        } else {
          encrypted += char;
        }
      }

      output.value = encrypted;
    });

    function copyToClipboard() {
      output.select();
      document.execCommand("copy");
      alert("Texte chiffrÃ© copiÃ© !");
    }
  </script>

</body>
</html>

